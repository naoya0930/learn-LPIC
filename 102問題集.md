# Udemy

#### ipコマンドでできること
- link,addr,routeの変更
  - データリンク、IPアドレス、ルーティングテーブルの編集
- ホスト関係の作業以外ができると考える
  - パブリックなホストDNSは`/etc/resolve.conf`
  - プライベートなホストネームは`/etc/hosts`
    - こいつは個人でしようするだけの値

### SPICE接続
- KVMやQEMUで各端末に直接接続する時に使われる
- GUIの共有
- ローカルデバイスのサポート
  - 差したUSBの共有とかできる
- アプリの配布や、リモートでの実行が目的ではない
  - ファイル共有とかが目的らしい

### 印刷系コマンド
- lpr...ジョブを生成する
  - Line Printer
- lpq...ジョブを確認する
  - Line Printer Queue
- lprm...ジョブを削除
  - Line Printer Remove

### メール転送
- aliases
  - ユーエスではない
- `/etc/aliases`...ここに設定を入れる`root:admin,watanabe`
- `newaliases`...設定の反映を実行

### メールキュー確認
- mailq

### chrony-ntpサーバの設定
- iburst...高速接続
- server...双方向同期
- prefer...優先サーバ
- iburst...同期を1回/sするところを起動直後だけ0.125s/回で8回実施する
  - 高速で同期を図ることができる

### トレースコマンド
- `strace`
  - システムコールをトレースするためのコマンド
- `ptrace`
  - processコマンドの略
  - forkした子プロセスに対するシグナルを監視する
  - 使い方わからん

### 特定のユーザにログインさせない
- 一般ユーザでログインさせない
  - `/etc/nologin`
- 特定のユーザでログインさせない
  - `/etc/passwd`のシェルを`/sbin/nologin`にする
    - こいつはログインの失敗を宣言する
  - `chsh -s /bin/false {username}`
    - こいつは何も返さない

### ロケール
- こいつらは`LC`もしくは`LANG`から始まる
- `LANG`，`LC_ALL`，`LC_*`
  - こいつが強めのコマンド
- 他は`LC_`に続いて
  - CTYPE
    - 文字コードを限定する
  - COLLATE
  - MESSAGE
  - MONETARY
  - NUMERIC
  - TIME

### IP関係のやつ
- ipコマンド
  - ip link show/add
  - ip addr show/add
  - ip route show/add
- ifup/ifdown
- ifconfig
- ethtool
- ss/netstat
- nmcli
- ping/trace

### SSHの証明書
- SSHホストキー
  - SSHのホストが持っているキー
  - クライアントに自身を識別させる

### bashのエイリアスを確認
- `alias`でよい

### testコマンド
- 真か偽を返す
- 数値比較
  - eq
  - ge, greater equal(以上)
  - gt
  - le
  - lt
- ファイル比較系
  - f,d...ファイル，ディレクトリ
  - r,w,x...存在し，権限があるかどうか
  - s...存在し，ファイルサイズが0でない
  - L...存在し，シンボリックリンクかどうか

### routeコマンド
- 名前解決する
- 現在ではip routeに置き換わっている．
- `route -n`でipの対応表が見れる
- `route`でドメインのまま対応表が表示される
- これらのFIB（forwarding Information Base）はカーネルに存在し，ファイルとして参照できない
- 編集(add/del)できるのはカーネル上のテーブルだけで，dnsサーバの情報を編集するわけではない
- デフォルトのゲートウェイを間違ったりすると，端末から出れずにタイムアウトする．

### 特殊変数
- $0...実行されているスクリプト名
- $1-9...コマンドライン引数
- $#...引数の個数
- $*...全引数を展開．$IFS区切り
- $@...配列的に展開する．スペース
- $!...直前にバックグラウンドで展開したPID
- $-...現在のシェルのオプション(setコマンドで指定した物)
- $$...現在のシェルのPID

### X11の管理単位
- PIDではなく，
