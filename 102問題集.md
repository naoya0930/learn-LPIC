# Udemy

#### ipコマンドでできること
- link,addr,routeの変更
  - データリンク、IPアドレス、ルーティングテーブルの編集
- ホスト関係の作業以外ができると考える
  - パブリックなホストDNSは`/etc/resolve.conf`
  - プライベートなホストネームは`/etc/hosts`
    - こいつは個人でしようするだけの値
- dnsサーバの場所を指す`/etc/resolve.conf`は編集できない

### SPICE接続
- KVMやQEMUで各端末に直接接続する時に使われる
- GUIの共有
- ローカルデバイスのサポート
  - 差したUSBの共有とかできる
- アプリの配布や、リモートでの実行が目的ではない
  - ファイル共有とかが目的らしい

### 印刷系コマンド
- lpr...ジョブを生成する
  - Line Printer
- lpq...ジョブを確認する
  - Line Printer Queue
- lpstat...ジョブを確認する
  - Line Printer Status
- lprm...ジョブを削除
  - Line Printer Remove

### メール転送
- aliases
  - ユーエスではない
- `/etc/aliases`...ここに設定を入れる`root:admin,watanabe`
- `newaliases`...設定の反映を実行

### メールキュー確認
- mailq

### chrony-ntpサーバの設定
- iburst...高速接続
- server...双方向同期
- prefer...優先サーバ
- iburst...同期を1回/sするところを起動直後だけ0.125s/回で8回実施する
  - 高速で同期を図ることができる

### トレースコマンド
- `strace`
  - システムコールをトレースするためのコマンド
- `ptrace`
  - processコマンドの略
  - forkした子プロセスに対するシグナルを監視する
  - 使い方わからん

### 特定のユーザにログインさせない
- 一般ユーザでログインさせない
  - `/etc/nologin`
- 特定のユーザでログインさせない
  - `/etc/passwd`のシェルを`/sbin/nologin`にする
    - こいつはログインの失敗を宣言する
  - `chsh -s /bin/false {username}`
    - こいつは何も返さない

### ロケール
- こいつらは`LC`もしくは`LANG`から始まる
- `LANG`，`LC_ALL`，`LC_*`
  - こいつが強めのコマンド
- 他は`LC_`に続いて
  - CTYPE
    - 文字コードを限定する
  - COLLATE
    - 並び替えの規則
  - MESSAGE
  - MONETARY
  - NUMERIC
    - 数値打点などの記載規則
  - TIME

### IP関係のやつ
- ipコマンド
  - ip link show/add
  - ip addr show/add
  - ip route show/add
- ifup/ifdown
- ifconfig
- ethtool
- ss/netstat
- nmcli
- ping/trace

### SSHの証明書
- SSHホストキー
  - SSHのホストが持っているキー
  - クライアントに自身を識別させる

### bashのエイリアスを確認
- `alias`でよい

### testコマンド
- 真か偽を返す
- 数値比較
  - eq
  - ge, greater equal(以上)
  - gt
  - le
  - lt
- ファイル比較系
  - f,d...ファイル，ディレクトリ
  - r,w,x...存在し，権限があるかどうか
  - s...存在し，ファイルサイズが0でない
  - L...存在し，シンボリックリンクかどうか

### routeコマンド
- 名前解決する
- 現在ではip routeに置き換わっている．
- `route -n`でipの対応表が見れる
- `route`でドメインのまま対応表が表示される
- これらのFIB（forwarding Information Base）はカーネルに存在し，ファイルとして参照できない
- 編集(add/del)できるのはカーネル上のテーブルだけで，dnsサーバの情報を編集するわけではない
- 名前解決を実施する場合は、`/etc/nsswitch.conf`のhostsの設定に従って名前解決しようとする
  - ここでデフォルトのゲートウェイを間違ったりすると，端末から出れずにタイムアウトする．

### 特殊変数
- $0...実行されているスクリプト名
- $1-9...コマンドライン引数
- $#...引数の個数
- $*...全引数を展開．$IFS区切り
- $@...配列的に展開する．スペース
- $!...直前にバックグラウンドで展開したPID
- $-...現在のシェルのオプション(setコマンドで指定した物)
- $$...現在のシェルのPID

### X11の管理単位
- PIDではなく，ディスプレイ番号で管理する
- 一つのXサーバに対して1つのディスプレイという考え方
- 別にサーバ側にですクトップ環境がなくても動作することが特徴


### タイムゾーン
- `/etc/localtime`...これを参照してタイムゾーンを定義している
  - これはほとんどシンボリックリンク
  - `/usr/share/zoneinfo/`配下のファイルへのリンクを作成
  - この中身はバイナリで読めない

### ntpの設定ファイル`etc/ntp.conf`
- `server {domain}`で、ntpサーバを指定する
- `friftfile {pass}`で、補正情報を指定
- `logfile {pass}`...でログは排出先を指定する

### 標準入力を読むコマンドシーケンス`read`
- echo '1 2 3 4 5 6' | while read a b c; do
  - echo $a $b $c;
- done

- 上記の場合は、a=1,b=2,c=3,4,5,6となる
- 余ったものは最後の変数に代入される仕様

### bashの設定ファイル
- ログインシェルとしてのbash
  - 1. `/etc/profile`
  - 2. `/etc/bash.bashrc`
  - 3. 以下をaから順に探す。実行されるのはいずれか一つ
    - a. `~/bash_profile`
    - b. `~/bash_login`
    - c. `~/.profile`
  - 4. `~/.bashrc`
- ログイン以外で使用するbash
  - `~/.bashrc`のみを見る


### nwcli vs ip
- データリンク層〜ネットワーク層の編集・DNSも含むよ
- ip
  - 一時的な編集にむいてる。カーネルを直接変更するため、再起動で消える
  - link
  - addr
  - route
- nmcli
  - 永続的な変更が可能
  - general
  - network
  - radio
  - connection

### dateでできること
- システムクロック(systemclock)関連の編集
- システムクロックの表示
  - 出力は+と%Y/M/d/H/M/a/bでで指定する
- カレンダーに関しては、calというコマンドがある

### systemdによるtimerユニットの一覧表示
- `systemd list-timers`
- こっちでもいける
  - `systemctl list-unit-files --type=timer`


### ユーザを制限するためのファイルあれこれ
- TCP wrapper
  - `/etc/hosts.allow`
  - `/etc/hosts.deny`
  - どちらも存在しない場合、全て許可する
- cron
  - `/etc/cron.allow`
  - `/etc/cron.deny`
  - どちらも存在しない場合、rootのみ許可する
### よくつかわれるnetstat
- こいつはネットワークの状態を示す
- `-t`...現在オープンしているtcp
  - ESTABLISHな状態
- `-r`...ルーティングテーブルを表示
- `-i`...統計情報を表示
- `-l`...リスニング中のポートを表示
  - LISTENINGな状態

### ログの送付ルール `etc/syslog.conf`
- イベントにマッチする全ての送付先に送信される
- `{ファシリティ}.{priority} {ection}`で記載

### x11の設定`etc/X11/xorg.conf`

- 記述方法

```
Section {name}
    {param} "param"
    {param} "param"
EndSection
```

- 主要なセクション
  - Files ... フォントやカラーデータベースファイルのパス
  - Module ... ダイナミックモジュールの設定
  - InputDevice ... キーボードやマウスの設定
  - InputClass ... 入力装置のクラス
  - Device ... ビデオカードの設定
  - Monitor ... モニターの設定
  - Modes... ビデオモードの設定
  - Screen ... ディスプレイの色深度やサイズ
  - ServerLayout ... 入出力デバイスとスクリーンの設定


### logrotateユーティリティ
- ログに対してナンバリングするやつ

### nmtui
- network managerを編集するためのツール
- nmcli...NetworkManager Command Line Interface
- nmtui...NetworkManager Text User Interface
  - curses仕様
    - テキスト端末で画面全体を使ってインタラクティブなUIを提示
### 印刷
lp...line printerのこと

### findコマンドでSUIDを見つける
- `find / -type f -perm -4000`
  - 権限検索
    - -XXXX...完全一致検索で、0をワイルドカードとする
    - /XXXX...部分一致検索。0をワイルドカードとする
- `find / -type f -perm -u=s `


### ssh-agentの使い方
- ssh-agent bash で起動する
- ssh-add でパスフレーズを登録
- ssh-add -l で一覧


### digコマンド
- 詳細な検索結果
  - HEADER
  - QUESTION
    - `-t`で渡す
  - ANSWER
  - AUTHORITY
  - ADDITIONAL
- オプション
  - `-t`
    - 検索する対象を選択する
    - a
    - aaaa
    - any
    - mx
    - ns
    - この結果がQuestion Sectionに入る

### ファイルの文字コードを変換する
- `iconv -f {w_code} -t {w_code} {file}`


### ロケールの設定
- 総合系列
  - LC_ALL
  - LC_*
  - LANG
- 部分的な設定
  - LC_COLLATE...文字列のソート
  - LC_CTYPE...文字の分類と変換
    - 文字コードが使用できるかはここで決まる
  - LC_MESSAGE...システムメッセージの言語
  - LC_MONETALY...通過
  - LC_NUMERIC...数値の表記
  - LC_TIME...日時の表記

### `/etc/group`
- 以下が記載されている
  - グループ名
  - パスワード
  - グループID
  - メンバー一覧
### `/etc/passwd`
- 以下が記載されている
  - ユーザ名
  - パスワード
  - UID
  - GID
  - コメント
  - ホームディレクトリ
  - ログインシェル

### ディスプレイマネージャとウィンドウマネージャ
- ディスプレイマネージャ
  - ログイン画面の提供
  - systemdから先に呼ばれる
  - GDM,SDDM,LightDM
- ウィンドウマネージャ
  - タイトルバー、描写などを担当
    - MUtter,Kwin,openbox

### seq構文
- `seq X Y Z`
  - XからYずつ増加させてZちょうどまで
  - `seq 1 5 20`
    - 1 6 11 16
- `seq X Y`
  - XからYちょうどまで
  - `seq 3 5`
    - 3 4 5
    - Zの値も含める

### syslogのファシリティ
- auth...認証情報。auth.* {配送先、ユーザ、リモートホスト}
- authpriv...セキュリティ関連メッセージ
- cron..cronジョブのメッセージ
- daemon...サービスのデーモンメッセージ
- kern...カーネルメッセージ
- mail...メール関連のメッセージ
- syslog...syslog自体のメッセージ
- user...ユーザレベルのメッセージ
- local0...ユーザ定義のログ
- local1
- local7


## nmcliの対象と範囲
- nmcli general
- nmcli network
- nmcli radio
  - こいつらは電源をイメージすると良い
  - offにしてもカーネルから切れるわけではない
  - networkをoffにすると、radioもoffになる
- nmcli connection
  - これは既存(一度でも接続した)接続の管理
  - UUID,NAMEなどを指定して、up,modeify,deleteを実行する
  - addで新しいプロファイルを登録することもできる
- nmcli device
  - これは、ネットワークインタフェースを直接指定する
  - プロファイルのまだない接続を直接管理できる
  - `nmcli device connect <device>`
    - プロファイルを作成せずに接続
  - `nmcli device wifi connect <SSID>`
    - これは少し特殊でプロファイル作成＋接続までやってくれる


### 引用符(')
- 囲われた範囲は全て文字列と認識する
### 二重引用符(")
- 変数の指定があれば代入して文字列とする`$VALUE`
- 変数として扱う..."${VAL}"
- コマンドとして扱う..."$(command)"
### バッククォーテーション(`)
- 明示的にコマンドとして定義する
  - echo \`pwd\`
  - pwdを実行
- $をつけると変数として扱い、その出力を実行しようとする
  - echo \`$path\`
  - PATHを出力。ただし、以下のエラーも出る
  - `command : path not found`

### bashrcの出デフォルトの挙動
- ログインシェル
  - `/etc/profile`
  - 下記のうちのいづれか1つ
  - `~/.bash_profile`,`~/.bash_profile`,`~/.profile`
  - ~/.bashrcは直接呼ばれない。上記のスクリプト経由で呼ぶ
- ログインシェル以外
  - `~/.bashrc`
  - 上記があるのなら、/etc/bashrc

### getentで管理
- `etc/nsswitch/.conf`に従って設定を取得する
- getentに続いて、以下が取得可能
  - passwd
  - group
  - hosts
  - service
  - protocol
  - networks
  - shadow
- 頻繁に変更されるPIDなどは取得できない

### `/etc/cups/cupsd.conf`vs`/etc/cups/printers.conf`
- cupsd.conf
  - 印刷要求を受け入れるCUPSそのものの設定
  - クライアント → CUPSサーバへの受け入れの設定
  - マルチキャストDNSによってその存在を内部DNSに教えたりする
    - サービス名：_ipp._tcpとか、_priter._tcpなど
- printers.conf
  - XML風に書いてある。それぞれのプリンターの設定

### リファレンスクロック
- 時刻を定義するNTP接続先サーバの時刻


### dnsの参照先設定、/etc/resolve.conf`
- nameserver...クエリを送信するDNSサーバ
  - privateでもpublicでもどっちでもOK
  - DNSサーバのIPを指定する
  - 複数指定OK。先に書いた方から解決できるか調べる
- search...ドメイン名の検索リスト。
  - domainに対してマッチしなかったドメインの検索
  - domainが`sample.com`の場合
    - ping testは`test.sample.com`レコードを認識
    - `test.sub.sample.comは拾えない`
    - ここでsearchにsub.sample.comを設定すると、
    - ping testで拾ってくれる
    - 6つまで指定可能
- domain...デフォルトのドメイン名
  - ひとつだけ設定可能
- options...リゾルバの動作を制御する
  - タイムアウトや試行回数を設定する

### useradd オプション
- `-c`...comment
- `-d`...directory
- `-g`,`-G`...グループ、サブグループに入れる
- `-s`...shell
- `-m`...ホームディレクトリを指定
  - `make home directory`と覚える

### sshオプション
- `-p`...port
- `-l`...ユーザネームを指定
  - loginの略
- `-i`...公開鍵認証のために自身の秘密鍵を指定する
  - identityの略
- `-L {自分のポート}:{相手のホスト}:{相手のポート}`
  - local forwardingの略
  - ポートフォワーディング
- `-X`...X11接続

### crontabの書式
- 分 時 日 月 曜日 コマンド


### IPv6マルチキャストアドレスの管理
- IANAによって定義されている
- FF00::/8の空間で定義
- 詳細
  - FF...ここは固定
  - falg(4bit)...アドレスの特性（一時的に払い出されたか？）
  - score(4bit)...どの範囲に送るか
  - groupID(112bit)...グループを識別する
- groupについて
  - 4bitで範囲を指定
  - 1...ノード内
  - 2...リンクローカル
  - 5...サイトローカル
  - 8...組織ローカル
  - E...グローバル


### IPv6における　TTL
- 通過する度に1減少していくアレ
- IPv6frはhot limitと呼んで、TTLとは呼ばない

### /etc/chrony.confの設定項目
- server
  - 同期対象となるNTPサーバ、IPやホスト名で指定
  - これを設定すると、そのサーバとしか通信しない
- pool 
  - 同期対象となるサーバ。複数指定可能。
  - どのサーバを選択するかは、chronyがキメる
- rtsync
  - システム時刻をハードウェアクロックに固定する
- makestep
  - 指定の秒数以上ずれていたら、最初の回数だけ大幅に補正を入れる
- maxslewrate
  - 緻密な時刻定義に使用する
- port
  - NTPサーバとしてシグナルを受け入れるポートを指定
- aloow/deny
  - プレフィックス形式で　NTPを受け付けるIPを限定
- bindaddress
  - NTPサーバとして、IPをバインド（固定しようと）する


- 設定したNTPとの連携情報における情報
  - chronyc sources

### ジャーナルのログを書き込む
- systemd-cat {command}
  - ログが書き込まれる
- logger {message}
  - messageを書き込む


### networkmanagerの接続状態
- ポートの状態とはまた別の考え方
- そのインタフェースがどういう状態かを説明する
- ステータス的には、`NW_STATUS_`に続いて以下のように表示
  - connected_GLOBAL...インターネットに接続されたネットワーク
  - connected_SITE...サイト内オンリー
  - connected_LOCAL...ローカルリンクオンリー
  - disconnected...どのネットワークにも接続されていない
  - connecting...接続中
  - asleep...無効化されている
  - unmanaged...Networkmanagerで管理されていない
  - unknown...状態が特定できない
- これとは別にインタフェースが外部のネットワークをチェックしてそのステータスを計測することもある
- このステータスはルートテーブルの設定に従う
- HTTTPでテストを実行する
  - Connectivityステータス
    - full...インターネットに出ている
    - portal...キャプティブポータルに流れる（公衆wifiのログイン画面）
    - limited...ローカルネットワークに到達できるが、インターネットに出られない
    - none...ネットワークに出られない
    - unknown...状況を判定できない
- ポートの状態ともまた違う考え方


### メール送信コマンド
- `mail`...基本的にユーザが使用するコマンド
- `sendmail`...maillコマンドが内部で使用しているコマンド

### メールを送信して受信するまで
- MUA
  - Mail User Agent
  - サンダーバードはこいつのこと
- MTA
  - Message Transfer Agent
  - サーバ間メール配送エージェント
- MDA
  - Message Delivery service
- クライアント（MUA）
  - POPを使用して持ってくる



### Systemd .timerユニット
- [Unit]...コメントをここに入れたりする
- [Timer]...どれくらいの頻度で実行するのか
  - `OnCalender`...cron風な日付設定
  - `OnActiveSec`...そのユニットが有効かされてからの経過秒
  - などなど
- [install]...依存関係の記載。ここに記載されたターゲットが実行される

### sshにおけるクライアント認証を実行する場合の秘密鍵参照
- 普通にsshコマンドを使用する場合
- `/etc/ssh/ssh_config`に沿って設定される
  - `~/.ssh/id_rsa`
  - `~/.ssh/id_ed25519`
  - などが使用される
- ssh-agentを使用する場合
  - これらのファイルを使用せずに、メモリ内にキーペアを登録する
    - パスフレーズの入力回数削減と、ファイルを直接指定せずに利用するセキュリティ上の利点
  - 複数の接続先に対して、いちいちキーペアを作成するのは面倒
  - 秘密鍵をソケットという形で提供する
    - これが`$SSH_AUTH_SOCK`に指定されたソケット
    - これはシェル変数として定義するので、ssh-agentの子プロセスとしてsshとして起動されるのが好まれる

### ネットワークの接続色々
- netstat
  - -iや-sで統計を見れる
  - 組み合わせては使用できない
- ip link / ip -s link
  - 受信/送信パケット数、エラー、ドロップなどの統計
  - これが推奨されている
- ifconfig
  - ifconfig {eth}
  - これで見ることができる

### スクリプトのLANG=C
- デフォルトのLANG設定を使用する明示的な宣言
- ASCIIに沿うよ！という意味ぐらいに考える


### TCP Wrapperが効いてくるタイミングについて
- 新規の接続が要求された時に接続の要否を判断する
- 一度セッションが確立している状態だと、その間の接続は守られる


### 経路探索コマンドとそのプロトコル
- ping
  - ICMP
  - 相手に到達するかを見る
  - 経路は見えない
- traceroute
  - UDPがメイン/ICMPも使用できる
  - TTLを1から順に増やしてパケットを送信
- tracepath
  - UDPがメイン/ICMPでも使える
  - 標準ユーザの権限で実行可能
- dig
  - DNS
  - 指定したDNSサーバに名前解決できるか聞く
  - 経路特定に使用しない、dns応答時間の確認に使用する

### X11構文
- Sectionから始まって、EndSectionで終わる
- ハードウェアスキャンを実行してxorg.confを自動生成
  - `Xorg -configure`
- Xorg.confを仮で実行してみる
  - `X -config {x.conf_path}`

### journalctlログファイルの永続化
- Storage=persistent


### ファイル投下におけるroot用cron
- `/etc/cron.daily`,`/etc/cron/weekly`などにshファイルを投下する
- これらはデフォルトでrun-part実行(ディレクトリを全て実行する設定)に設定されていることが多い。
- systemdの場合にも、systemd-timerによって日時で実行されるようにユニットが組まれていることがある。



### debian系ネネットワークactivation
- nmcliが使われない debianではこっちを使っていたりする
- `ifup`
- `ifdown`
- これらは、`/etc/network/interfaces`を見る
  - ここにAuto directiveというのが設定されていて、
  - システム立ち上げ時の設定を実行する。
- 使い方
  - ifup -a .../etc/network/interfacesのauto設定のインターフェイスを全て起動
  - ifup -n eth0 ...時指しには変更せずにドライランする
  - ifup -v eth0 ...詳細情報を表示しながら立ち上げ
  - ifup --force eth0...強制的に立ち上げ。upを再実行する
  - ifup -i {file} eth0...指定したinterfacesファイルを使用
  - ☆ ifdownもほぼ同様
- これらは、設定ファイルに従ってup/downを実行する
  - 



### suコマンド
- ハイフンをつけると、シェルをリセットしてrootでログインする
- つまりそのユーザでのログインを要求してくる

### sudo
- sudo -l...許可されているコマンドを表示する
  - listの略
- sudo -i...ルートシェルにログインする。環境変数を初期化
  - loginの略
- sudo -i -u {user}...そのユーザにログイン
- sudo -s...そのままルートシェルに遷移する。シェル変数はそのまま

### VNC vs RDP
- RDPはActive Directoryとの連携が強い
  - セッションとして配信するため、クライアントに独立した画面提供ができる。
- VNCはシンプルな画面共有機能を持つ
  - パスワード認証機能は持っている
  - サーバ側の表示とクライアント側の表示が完全に同じ

### env -i コマンド
- 環境変数を参照せずにコマンドを実行する
  - `env -i bash`...これで環境変数のないbashが作成される

### bashにおけるループ
- for,while,until
- これらはdo からdoneで終わる



### ifconfigの使い方
- ifconfigのみ...全体を表示
- ifconfig [NIC]



### ネットワークインタフェースの命名規則の変更
- 旧来
  - eth0,eth1...のような番号付
- 新規格
  - 現在のコマンドはこちらを使用する
  - Predictable Network Interface Name の規約が入った
  - enp0s3...PCIバス0スロット3のイーサネット
  - ens33...スロット33のNIC
  - wlp2s0...PCIバス0にあるwifi



### source vs bash vs exec
- `soure {shファイル}`で流し込むと、子プロセスを作成せずに実行する
- `bash {shファイル}`で流し込むと、子プロセスで実行
  - ここでの実行内容は親プロセスに影響を与えない
- `exec {shファイル}`で流し込むと、bashに戻らなくなる



### コマンドの連結
- `;`...何が戻ってきても続行
- `&&`...成功結果が戻ってきたら実行
- `||`...失敗が帰ってきたら実行



### opensshで指定ポートにアクセスする
- `ssh -p {port}`
- `ssh -o {param}={value}`でも可能
  - param
    - Port=80
    - User
    - IdentityFile
    - StrictHostKeyChecking
    - Proxy
    - LogLevel

### sudoの設定ファイル
- `/etc/sdoers`

### openssh設定ファイル
- サーバ
  - /etc/ssh/sshd_config
- クライアント
  - _etc_ssh_ssh_config


### ipの3つのオプションでできること
- これらの変更は一時的である。永続的に変更するわけではない
- `ip link`
  - インタフェースの状態管理
  - MACアドレス変更
  - MTU変更
  - 統計情報の表示
- `ip addr`
  - インタフェースに対してIPアドレスの追加、削除
  - IPアドレスの一覧表示
  - ※ up/downの変更はできない
- `ip route`
  - デフォルトゲートウェイの追加
  - ルートテーブルの変更
  - ルーティングテーブルの表示


### xinetdとTCP wrapper(tcpd)の関係
- xinetd
  - スーパサーバといわれればこいつのこと
  - 機能
    - アクセス制御
    - リソース制御
    - ログ機能
    - TCPwrapperにも対応可能
- tcpd
  - アクセス制御用の軽量ラッパーでしかない
  - /etc/hosts.allow,/etc/hosts.denyを見る

### nameserver switch設定ファイル
- `/etc/nsswitch.conf`のこと

### xinetdの監視対象
- `/etc.xinetd.conf`によって定義される
  - bindによってどれをモニタリングするか決める
  - IPもしくはコネクション名によって指定
  - `bind=192.168.0.0/24`
  - `bind=eth0`
- `onlyfrom`
  - bindしたIP/ethがどのIPから許可するか？という設定

### findコマンドの-typeで見つけれる属性
- f...ファイル
- d...ディレクトリ
- l...シンボリックリンク
- c...キャラクタデバイス
- b...ブロックデバイス
- p...名前付きパイプ
- s...ソケット
- 文字列では代替できない。一文字でしか認識しない
  - `find / -type file`はエラーになる

### ifconfig vs netstat
- ifconfig
  - linkレベルの操作はできるが、ルートテーブルの参照は不可
- netstat
  - linkレベルも見ることができる
  - 変更はできない

### well-known port
- 最近はシステムポートと呼ぶらしい
- 0-1023まで
- 20...FTP送受信
- 21...FTPコントロール
- 22...ssh
- 23...telnet
- 24...旧メール
- 25...SMTP


### /etc/hostsの記法
- IPを書いてからドメインを書く
- ルートテーブル(netstat -r)とは異なるので、ここにデフォルトは存在しない
- 123.123.123.123 example.com
- 127.0.0.1 localhost
- 127.0.1.1 user nado


### IPV6インタフェース識別子について
- Interface ID
- IPv4ではあまり使用しない言葉
- サブネット内のそれぞれのホスト、インタフェースを一意に識別する番号
- IPv6ではネットワーク部とホスト部が64bitで分けられている
  - そのため、2^64個が単一ネットワークで確保されている

### 主要なメール転送エージェント(MTA)
- メールの転送、MDA(Mail Delivery Agent)に配信を実施
- Sendmail...こういうエージェントプログラムもあった。コマンドとは別
- Postfix
- Exim
- Qmail
- Microsoft Exchage


### グループのパスワード
- `/etc/grousp`
  - group_name...グループの名前
  - password...パスワード
  - GID
  - user_list
- パスワードは「x」になっていることが多い
- 一時的にそのグループに入るためにパスワードを使用する
  - `newgrp`コマンドを使用する時に使用する


### userdelで消えるもの
- 消えるもの
  - /etc/passwdのユーザエントリを削除
  - /etc/shadowからパスワードを削除
  - /etc/groupのuser_listに含まれていれば消す
- `-r`,`-remove`を含めるとホームディレクトリも削除する
- 0人になったグループに関しては削除されない

### 模擬試験8〜


### 模擬試験14

- ルートコマンドが遅くなる理由
  - ルータと解決を図ろうとするから
  - `route`だと逆引きしようとする
  - 逆引きはPTRレコードが無いとレスポンスを戻さない
  - そのため、タイムアウトまで待つ
  - カーネルの情報は戻さない





