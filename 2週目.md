### 101
- CPUに関する情報
  - /proc/cpuinfo
- udev
  - 設定
    - `/etc/udev/ruled.d`
- usbの設定
  - `lsusb`
- cpu,memory
  - `/proc/cpuinfo`
  - `/proc/meminfo`
- `/proc/`配下につくファイルは複数系であることが多い
  - /proc/ioports
  - /proc/cgroups
- modprobe 設定ファイル
  - (カーネル2.4)`/etc/module.conf`
  - (それ以降)`/etc/modules.d/{any}.conf`
    - options...モジュールのデフォルトパラメータ
    - alias...モジュールに別名をつける
    - install...モジュールのロード時にコマンドを実行する
    - remove...モジュールをアンロード時にコマンドを実行
    - blacklist...ロードしないモジュールを指定する
- systemctl
  - disable
  - enable
  - get-default
  - halt
  - is-active...active or inactiveを戻す
  - list-unit-files
  - reboot
  - reload
  - restart
  - set-default
  - start
  - status...状態を詳細に戻す
  - stop
  - poweroff

### GPT + ESP
- EFI(Extensible Firmware Intereface)
  - UEFI(Unified EFI)と同じ意味
  - BIOSの代替
- ESP(EFI System Partition)
  - EFI用のパーティション
  - ブートローダが入っている
  - /boot/efiに存在
  - FAT32フォーマット
- EBR(Extended Boot Record)
  - レコードの仕組み
  - 論理パーティションを読み取る
  - MBR環境下で使用する
- MBR(Master Boot Record)
  - これはBIOSもしくはUEFIで起動可能
  - ブートローダが含まれる
  - ファイルシステムからは見えない
  - 512バイトで構成される
    - 446B  ブートストラップ
    - 64B パーティションテーブル
    - 2B ブートシグネイチャ
### systemd ユニット
- device
- mount
- service
- swap
- target

### SWAP領域
- 2GB以下の場合 RAMの2倍
- 2-8GBの場合、RAMの1倍
- 8-64GBの場合、4GBから0.5倍
- 64GB over...少なくとも4GB


### ディレクトリ/opt vs /lib
- libは共有ライブラリを格納する
  - .soファイルなどがここに入る
- optは追加でインストールしたパッケージを格納する
  - aptやyumでインストールされると、ここにインストールされる
  - なので、パーティションを分けることがある。

### LVM構成
- 上位から、
  - 論理ボリューム
  - ボリュームグループ
  - 物理ボリューム

### GURB/GRUB2
- 設定ファイル
  - GRUB
    - `/boot/grub/menu.lst`
    - `/boot/grub/grub.conf`
  - GRUB2
    - `/boot/grub/grub.cfg`（こいつだけcfg）
    - (設定)`/etc/default/grub`, `/etc/grub.d/`
- ディスク指定
  - GRUB...0から数える(hd0)
  - GRUB2...0から数える(hd0)
- パーティション指定
  - GRUB...0から数える
  - GRUB2...1から数える
- バージョン
  - GRUB...1.9以下
  - GRUB2...1.9以降

### カーネルパラメータ
- systemd.unit=[0,1,2,3,4,5,6,rescue,emergency]
  - systemdに対して、指定したターゲットで起動する
- single,1,s,S
  - initでもUpstartでもSystemdでもシングルモードで起動する

### 共有ライブラリに関するコマンド
- ここに記載されるのはプログラムの実行の際のライブラリ参照
- `ld`
  - 実行ファイル`.o`などに対して、`.so`のリンクをつける
  - この場合、新しいファイルが作成される
  - `LD_LIBRARY_PATH`を使用せずに実行できる
- `ldd`
  - 実行ファイルがリンクしている共有ライブラリを表示
  - `LD_LIBRARY_PATH`が該当している場合は、それを戻す
- `ldconfig`
  - 指定したディレクトリをスキャンして、共有ライブラリのキャッシュを作成
  - 以下のディレクトリに記載されたディレクトリを走査
    - `/etc/ld.so.conf`,`/etc/ld.so.conf.d/`
  - `/etc/ld.so.cache`を作成する

### `LD_LIBRARY_PATH`について
- `/lib`,`/usr/lib`にないパス使用する場合に使う
  - 上記のリンクに関しては、`/etc/ld.so.cache`で作ってくれる

### dpkg / apt
- 設定ファイル
  - dpkg
    - `/etc/dpkg/dpkg.cfg`
  - apt
    - `/etc/apt/sources.list`
  - yum
    - `/etc/yum.conf`
    - (リポジトリ定義)`/etc/yum.reps.d`

### rpmコマンド
- `-V` --verbose...参照モード
- 削除は `-e` `--erase`
  - removeじゃない！！！

### zypper コマンド
- zypper in {}, zypper install {}
  - インストール
- zypper lr, zypper repos
  - リポジトリの一覧
- zypper refresh
  - リポジトリの更新
- zypper lu,zypper list-updates
  - 更新可能なリポジトリ
  - 複数形やんけ。使いにくすぎてゴミ

### rpm
- rpm -ql {}...パッケージがインストールしたファイルの表示
- rpm -qa...現在インストールされているパッケージの全て
- `rpm -qp --require {}`...パッケージの依存性確認
  - aptの場合は、depends


### yum参照系
- yum list {}
  - パッケージの一覧表示
  - aptの場合はリポジトリを完全一致検索
- yum info {}
  - 詳細情報の表示
  - aptではshowだったが、yumではshowは無い
- yum check-update
  - こちらは単数系。ゴミ。
- groupという概念がある。
  - groupに関するコマンドでは原則ハイフンを打たない

### dbから検索する系コマンド
- whatis
  - 完全一致で検索する
  - `makewhatis`
  - manページに関する情報を蓄積
  - `maddb`でも同じ．approposで部分一致
- find
  - `updatedb`
  - ディレクトリを探索する

### manコマンドセクション
- 1...☆ユーザコマンド
- 2...☆システムコール（カーネルの関数）
  - mount,open,fork,execveなど
  - コマンドと同じ名前のものもある
- 3...ライブラリ呼び出し
- 4...特殊ファイル
- 5...☆ファイルの書式（etc/配下等）
- 6...ゲーム
- 7...そのほか
- 8...☆システム管理コマンド
  - mount,umount
  - コマンドプロンプトで打てる内容
- 9...カーネルルーチン


### setコマンド
- そのまま使えばシェル変数とか環境変数を出力
  - allexport
    - 新規作成・辺既往した変数を自動的に環境変数にする
  - emacs
    - コマンドラインをemacの入力にする
  - ignoreeof
    - ctrl+Dを押してもログアウトしない
  - noclobber
    - リダイレクト演算子で既存ファイルを上書き不可
  - noglob
    - パス名展開を無効にする
  - vi
    - viと同じキーバインドにする

### 環境変数
- HISTFILE...コマンド履歴保存パス
- HISTSIZE...現在のシェルでのコマンド履歴の保存数
- HISTFILESIZE。..保存したファイルの履歴保存数

### sourceコマンド
- 指定したスクリプトファイルを実行するためのコマンド
- dot(.) でも代替可能


### manコマンドの最低限
- 1. ユーザコマンド
- 2. システムコール
- 5. 設定ファイル
- 8. 管理者コマンド

### ヒストリファイル
- `history`,`.bash_history`


### 現在使用しているシステムの情報を表示するコマンド
- uname


### set,env,printenv
- シェル変数を表示するにはsetしかない
  - ~/.bashrcなどの中身もshell変数
  - 関数定義もここに出てくる
- set
  - 全てのシェル変数と環境変数を表示
- env
  全ての環境変数を表示
- printenv
  - 一部、または全ての環境変数を表示


### ときどきASCIIを-cで表すのはなぜ？
- characterの略らしい

### splitコマンド
- デフォルトで1000行分けする
- 「aa」「ab」「ac」...と命名する
  - a,b,c,,,ではないので注意！

### sortコマンド
- デフォルトで昇順ソート
- オプション
  - `-b`...行頭のblankを無視する
  - `-f`...大文字と小文字の区別をなくす
  - `-r`...降順ソート
    - reverse
  - `-k {num}`...-tで区切られた項目の{num}番目に対してソートを実行
    - keyのことっぽい
  - `-t {val}`...特定文字ごとに区分けを実行
    - trim,tab,token,separatorなどの単語が推測される
  - `-n`...文字が数字の場合は数字として比較する
### headコマンド
- 冒頭n文字（行）
  - `-c {num}`...バイト数でカウント
  - `-n {num}`...行数を指定

### uniqコマンド
- 連続した同じ内容の行を出すコマンド
  - `-d`...重複している行のみを表示
    - 重複した行を1行にまとめて表示
  - `-u`...重複していない行のみを表示
    - 重複した行は除外する
  - デフォルト...重複していない行を表示
    - 重複した行は一行にまとめる
### tr コマンド
- 文字置換・削除
  - デフォルト`tr XYZ xyz`... Xをxに、Yをyに、Zをzに置換 
  - `-d`...削除する
  - `-s {w} {c}`...連続するwをc1つに変換する
    - オプションなしの場合は、連続するwを一つのwにする

### cutコマンド
- `cut -d {key}`
  - 特定の正規表現を持つファイルから値を抽出する
  - 区切り文字を指定、tabやスペースが指定されやすい
  - ここsortとオプションが違うので注意。devidedが語源？
- `cut -f {num-num}`
  - -dで区切った範囲の何項目目を表示するか指定
- `cut -c {文字数}`、`cut -c {num-num}`
  - 各行の文字数ごとに値を抽出する

### nlコマンド
- 行数を出す場所と、形式を指定
- 場所の指定
  - -b...本文に行番号
  - -h...ヘッダに行番号
  - -f...フッターに行番号
- 形式
  - a...全ての行
  - t...空白以外の行(デフォルト)
  - n...行番号を付加しない

### catコマンドで行番号を出す
- -n...空行を含めた全ての行に行番号をつける
- -b...空行を除いた行に行番号をつける

### 圧縮系コマンドオプション
- tar
  - z,j,J...gzip,bzip2,xz形式を指定
  - c,x,t...作成、展開、中身の確認
  - l...メタデータの表示(bzip2には無い)
    - 圧縮率、チェックサムの種類、ブロック数など
  - v...処理の詳細情報の表示
  - f...アーカイブファイル名を指定

- gzip,bzip2,xzとtarの差分
  - デ

### 圧縮したファイルを標準出力に出す
- zcat
- bzcat
- xzcat


### cp 
- `-p`
  - 権限を保持したままコピー
  - preserveの略
- `-f`
  - 重複時には置き換えで対応する
  - forceの略

### fileコマンド
- fileコマンド
  - ファイルがどんな内容なのかを出力する
  - バイナリ、テキスト、など
  - 実行するとアクセス扱いになり、atimeが更新される
- 似たコマンドにstatがあるが、これはメタデータを読む
  - アクセス権、a,m系時刻