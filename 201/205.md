# 高度なストレージ管理
### RAID
- Redundant Arrays of Inexpensice Disks
- ソフトウェアRAID
  - mdadm(Multi deviceドライバ)で設定・監視・再構築
  - モジュールによって管理されている
- ハードウェアRAID
  - RAID専用のチップを組み込む
  - PCIeチップをPCに差し込んで，そこにディスク接続
  - マザーボードにチップが入っていることもある
- `/dev/md0`とか名前が付けられる．
#### RAIDの種類
- LVMは一段後の工程．RAID+LVMという構成になる．
  - 実際の所，併用する可能性は低い
- RAID0...ストライピング
  - 複数のディスクに分散してデータ書き込み
  - 1台のディスクのように扱う
  - 冗長性を担保しない
- RAID1...ミラーリング
  - 同じデータを複数保存する
  - 2台から構築可能
- RAID4...ストライピング+パリティ
  - 3台以上の構成に対して実現可能
  - 1台をパリティ情報を保存する専用ディスクにする
- RAID5...ストライピング+パリティ
  - 3台以上の構成に対して実現可能
  - 自身以外のディスクのパリティ情報を保存する領域を自身のディスクに設ける
  - 効率はRAID4と同じ
- RAID6...ダブルパリティ
  - 4台以上の構成に対して実現可能
  - 2台の同時故障に対応できるようにパリティ領域を構成する
- RAID10..ミラーのストライピング(1+0)
  - ミラー構成にした後に，ストライピングするように構成
#### パリティ・チェックサム
- 2台のデータのXORをパリティディスクに書き込むイメージ
- RAID4であれば，N/(N-1) の容量が必要になる
- RAID6の場合は，N/(N-2)の容量が必要になる．
- チェックサム機能は無いので，ビット単位で復元できるわけではない．

#### 【復讐】パーティションID
- そのパーティションを何に使用するか識別するID
- MBRの場合
  - `fdisk -l` で表示
  - HEX Codeとか読んだりする
- GPTの場合
  - `gdisk -l`で表示
  - GUID(Globally Unique Identifier)とか呼ぶ
    - 32桁16進数
### RAIDの運用
- RAID IDが割り当てられている
- MBRのヘックスコード
  - ★ `FD`...Linux RAID Autodetect
    - ほとんどの場合，RAIDであることはこちら
  - `DE`...Dell Utility
    - Dell製のPCで使用することがある
- GPTのGUID
  - Linux RAID
    - A19D880F-05FC-4D3B-A006-743F0EE14D02
  - Apple RAID
    - 52414944-4F43-11AA-AA11-00306543ECAC
  - LVM
    - E6D6D379-F507-44C2-A23C-238F2A3AD000

#### RAIDの作成・管理
- mdadmを使用する（multi device administかな？）
- モードが3つある
  - 作成（クリエイトモード）`--create`,`-C`
  - 操作（マネージモード）`--manage`
  - そのほか(miscモード)`--misc`
- `mdadm -C `
- C

### LVM
### LVM作成
### LVMの管理
### LVM関連コマンド
## 記憶装置へのアクセス
### デバイス
### ハードディスクの管理
### SSDの管理
### iSCSI
